<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0f14" />
  <title>Mechanical Properties - 20 Questions</title>
    <style>
    :root{
      --bg: #0b0f14;
      --text: #e6edf3;
      --muted: #9aa7b2;
      --card: #0f1620;
      --border: #263241;
      --shadow: rgba(0,0,0,.25);

      --btn-bg: #162232;
      --btn-bg-hover: #1b2a3e;
      --btn-border: #2a3a4f;
      --btn-text: var(--text);

      --primary: #3b82f6;
      --primary-hover: #2563eb;

      --ok-bg: rgba(34, 197, 94, 0.12);
      --ok-border: rgba(34, 197, 94, 0.35);

      --bad-bg: rgba(239, 68, 68, 0.12);
      --bad-border: rgba(239, 68, 68, 0.35);

      --focus: rgba(59, 130, 246, 0.45);
    }

    /* Optional: if user prefers light mode, respect it */
    @media (prefers-color-scheme: light){
      :root{
        --bg: #ffffff;
        --text: #111827;
        --muted: #4b5563;
        --card: #ffffff;
        --border: #d1d5db;
        --shadow: rgba(0,0,0,.08);

        --btn-bg: #f3f4f6;
        --btn-bg-hover: #e5e7eb;
        --btn-border: #d1d5db;
        --btn-text: #111827;

        --primary: #1f6feb;
        --primary-hover: #1857bd;

        --ok-bg: #e9f7ef;
        --ok-border: #bfe7cd;

        --bad-bg: #fdecea;
        --bad-border: #f5c2bd;

        --focus: rgba(31, 111, 235, 0.35);
      }
    }

    *{ box-sizing: border-box; }
    body{
      font-family: Arial, sans-serif;
      margin: 24px;
      line-height: 1.4;
      background: var(--bg);
      color: var(--text);
    }
    .wrap { max-width: 800px; margin: 0 auto; }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 6px 18px var(--shadow);
    }

    .muted{ color: var(--muted); font-size: 0.95rem; }

    .q-title{ margin: 0 0 8px; }

    .choices{ list-style: none; padding: 0; margin: 0; }
    .choices li{ margin: 10px 0; }

    label{ cursor: pointer; }
    input[type="radio"]{
      accent-color: var(--primary);
      transform: translateY(1px);
    }

    /* Focus visibility */
    button:focus, input[type="radio"]:focus{
      outline: 3px solid var(--focus);
      outline-offset: 2px;
    }

    .btnrow{
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    button{
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-text);
      cursor: pointer;
    }
    button:hover{ background: var(--btn-bg-hover); }

    button.primary{
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }
    button.primary:hover{ background: var(--primary-hover); }

    .feedback{
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
    }
    .ok{ background: var(--ok-bg); border-color: var(--ok-border); }
    .bad{ background: var(--bad-bg); border-color: var(--bad-border); }

    .hidden{ display: none; }

    .progress{
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
    .pill{
      padding: 4px 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      font-size: 0.9rem;
      background: rgba(255,255,255,.03);
    }

    .explain{ margin-top: 8px; }
  
    /* Fireworks overlay (shown only on 20/20) */
    canvas.fireworks{
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 9999;
    }

  </style>
</head>

<body>

<div class="quiz-header">
  <a href="../index.html" class="index-link" aria-label="Back to Home">← Back to Home</a>
</div>

<style>
  .quiz-header {
    max-width: 1100px;
    margin: 0 auto 12px auto;
    padding: 12px 16px 0 16px;
    display: flex;
    justify-content: flex-end;
  }

  .index-link {
    text-decoration: none;
    font-weight: 600;
    color: #eaeaf0;
    padding: 6px 10px;
    border-radius: 8px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
  }

  .index-link:hover {
    background: rgba(255,255,255,0.14);
  }
</style>




  <canvas id="fireworks" class="fireworks" style="display:none;"></canvas>

  <div class="wrap">
     <h1>Mechanical Properties (20 questions)</h1>
    <p class="muted">Assesses students’ understanding of key mechanical properties including stress, strain, elasticity, plastic deformation, yield strength, ultimate tensile strength, hardness, toughness, fatigue, creep, and work hardening, and how these properties influence material behaviour and engineering design decisions.</p>

    <div class="card progress">
      <div>
        <div class="pill" id="progressText">Question 1 of 1</div>
      </div>
      <div class="pill" id="scoreText">Score: 0</div>
    </div>

    <div class="card" id="quizCard">
      <h2 class="q-title" id="questionText">Loading…</h2>
      <p class="muted" id="questionMeta"></p>

      <form id="choicesForm">
        <ul class="choices" id="choicesList"></ul>
      </form>

      <div class="btnrow">
        <button class="primary" id="checkBtn" type="button">Check answer</button>
        <button id="nextBtn" type="button" class="hidden">Next</button>
        <button id="restartBtn" type="button">Restart</button>
      </div>

      <div id="feedbackBox" class="feedback hidden"></div>
    </div>

    <div class="card hidden" id="summaryCard">
      <h2>Results</h2>
      <p id="summaryText"></p>
      <button class="primary" id="restartBtn2" type="button">Restart quiz</button>
    </div>
  </div>

  <script>
    // =========================
    // 1) QUESTION BANK (EDIT ME)
    // =========================
    // correctIndex is 0-based (0 = A, 1 = B, etc.)

const QUESTIONS = [
  {
    topic: "Stress",
    question: "What is stress?",
    choices: [
      "Force applied to a material",
      "Force per unit area",
      "Change in length",
      "Resistance to deformation"
    ],
    correctIndex: 1,
    explanation: "Stress is defined as force divided by cross-sectional area (σ = F/A) and is typically measured in pascals (Pa)."
  },
  {
    topic: "Strain",
    question: "What is strain?",
    choices: [
      "Force per unit area",
      "Change in volume only",
      "Change in length divided by original length",
      "Applied load"
    ],
    correctIndex: 2,
    explanation: "Strain is the ratio of change in length to original length (ε = ΔL/L₀) and is dimensionless."
  },
  {
    topic: "Elastic Deformation",
    question: "Elastic deformation is characterised by:",
    choices: [
      "Permanent shape change",
      "Reversible deformation upon unloading",
      "Fracture",
      "Necking"
    ],
    correctIndex: 1,
    explanation: "Elastic deformation is reversible. When the load is removed, the material returns to its original shape."
  },
  {
    topic: "Plastic Deformation",
    question: "Plastic deformation occurs when:",
    choices: [
      "Stress is below yield strength",
      "Stress exceeds yield strength",
      "Stress equals zero",
      "The material is brittle"
    ],
    correctIndex: 1,
    explanation: "Plastic deformation begins once stress exceeds the yield strength, causing permanent deformation."
  },
  {
    topic: "Young’s Modulus",
    question: "Young’s modulus represents:",
    choices: [
      "Strength of a material",
      "Resistance to plastic deformation",
      "Stiffness of a material",
      "Hardness of a material"
    ],
    correctIndex: 2,
    explanation: "Young’s modulus (E) is the slope of the elastic region of the stress–strain curve and measures stiffness."
  },
  {
    topic: "Yield Strength",
    question: "Yield strength is defined as:",
    choices: [
      "Maximum stress before fracture",
      "Stress at which plastic deformation begins",
      "Stress at zero strain",
      "Stress at necking"
    ],
    correctIndex: 1,
    explanation: "Yield strength marks the transition from elastic to plastic behaviour."
  },
  {
    topic: "Ultimate Tensile Strength",
    question: "Ultimate tensile strength (UTS) is:",
    choices: [
      "Stress at fracture",
      "Highest stress reached during tensile testing",
      "Stress at elastic limit",
      "Stress at zero load"
    ],
    correctIndex: 1,
    explanation: "UTS is the maximum engineering stress on the stress–strain curve."
  },
  {
    topic: "Ductility",
    question: "Ductility is best measured by:",
    choices: [
      "Hardness value",
      "Percentage elongation at fracture",
      "Elastic modulus",
      "Density"
    ],
    correctIndex: 1,
    explanation: "Ductility refers to a material’s ability to plastically deform before fracture, commonly measured by elongation."
  },
  {
    topic: "Brittleness",
    question: "A brittle material typically:",
    choices: [
      "Shows large plastic deformation",
      "Fractures with little or no plastic deformation",
      "Has low stiffness",
      "Has high ductility"
    ],
    correctIndex: 1,
    explanation: "Brittle materials fracture suddenly with minimal plastic deformation."
  },
  {
    topic: "Hardness",
    question: "Hardness is a measure of:",
    choices: [
      "Resistance to indentation",
      "Resistance to heat flow",
      "Electrical conductivity",
      "Density"
    ],
    correctIndex: 0,
    explanation: "Hardness measures resistance to surface indentation or scratching."
  },
  {
    topic: "Toughness",
    question: "Toughness represents:",
    choices: [
      "Stiffness only",
      "Resistance to plastic deformation",
      "Energy absorbed before fracture",
      "Yield strength only"
    ],
    correctIndex: 2,
    explanation: "Toughness is the total energy absorbed before fracture, represented by the area under the stress–strain curve."
  },
  {
    topic: "Fatigue",
    question: "Fatigue failure occurs due to:",
    choices: [
      "Single high load",
      "Repeated cyclic loading",
      "Corrosion only",
      "High temperature only"
    ],
    correctIndex: 1,
    explanation: "Fatigue failure results from repeated loading cycles, often below the yield strength."
  },
  {
    topic: "Creep",
    question: "Creep is most significant at:",
    choices: [
      "Low temperatures",
      "Room temperature only",
      "Elevated temperatures under sustained load",
      "Zero stress"
    ],
    correctIndex: 2,
    explanation: "Creep is time-dependent deformation under constant load, especially at high temperatures."
  },
  {
    topic: "Shear Stress",
    question: "Shear stress occurs when forces act:",
    choices: [
      "Parallel to the cross-section",
      "Perpendicular to the surface only",
      "In tension only",
      "Under zero load"
    ],
    correctIndex: 0,
    explanation: "Shear stress results from forces acting parallel to the material cross-section."
  },
  {
    topic: "Impact Testing",
    question: "Impact toughness is commonly measured using:",
    choices: [
      "Hardness test",
      "Tensile test",
      "Charpy or Izod test",
      "Creep test"
    ],
    correctIndex: 2,
    explanation: "Charpy and Izod tests measure energy absorbed during impact."
  },
  {
    topic: "Work Hardening",
    question: "Work hardening results in:",
    choices: [
      "Reduced strength",
      "Increased dislocation density and strength",
      "Lower yield strength",
      "Increased ductility"
    ],
    correctIndex: 1,
    explanation: "Plastic deformation increases dislocation density, making further deformation more difficult."
  },
  {
    topic: "Poisson’s Ratio",
    question: "Poisson’s ratio describes:",
    choices: [
      "Axial strain only",
      "Lateral strain to axial strain ratio",
      "Stress to strain ratio",
      "Volume change only"
    ],
    correctIndex: 1,
    explanation: "Poisson’s ratio is the ratio of lateral contraction strain to axial extension strain."
  },
  {
    topic: "Elastic Limit",
    question: "The elastic limit is:",
    choices: [
      "Maximum stress before fracture",
      "Maximum stress before permanent deformation",
      "Minimum stress applied",
      "Stress at zero strain"
    ],
    correctIndex: 1,
    explanation: "Beyond the elastic limit, permanent deformation occurs."
  },
  {
    topic: "Necking",
    question: "Necking in a tensile test occurs:",
    choices: [
      "Before yielding",
      "At UTS and after",
      "During elastic deformation",
      "Only in brittle materials"
    ],
    correctIndex: 1,
    explanation: "Necking begins at the ultimate tensile strength when localised reduction in cross-sectional area occurs."
  },
  {
    topic: "Material Selection",
    question: "Which mechanical property is MOST critical for components subjected to shock loading?",
    choices: [
      "Hardness",
      "Density",
      "Toughness",
      "Thermal conductivity"
    ],
    correctIndex: 2,
    explanation: "Toughness determines the ability of a material to absorb energy without fracturing."
  }
];



    // =========================
    // 2) QUIZ ENGINE (NO NEED TO EDIT)
    // =========================
    let idx = 0;
    let score = 0;
    let answered = false; // prevent double scoring

    const progressText = document.getElementById("progressText");
    const scoreText = document.getElementById("scoreText");
    const questionText = document.getElementById("questionText");
    const questionMeta = document.getElementById("questionMeta");
    const choicesList = document.getElementById("choicesList");
    const feedbackBox = document.getElementById("feedbackBox");

    const checkBtn = document.getElementById("checkBtn");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const restartBtn2 = document.getElementById("restartBtn2");

    const quizCard = document.getElementById("quizCard");
    const summaryCard = document.getElementById("summaryCard");
    const summaryText = document.getElementById("summaryText");

    function renderQuestion() {
      answered = false;
      feedbackBox.className = "feedback hidden";
      feedbackBox.innerHTML = "";
      nextBtn.classList.add("hidden");

      const q = QUESTIONS[idx];
      progressText.textContent = `Question ${idx + 1} of ${QUESTIONS.length}`;
      scoreText.textContent = `Score: ${score}`;
      questionText.textContent = q.question;
      questionMeta.textContent = q.topic ? `Topic: ${q.topic}` : "";

      // Build choices (radio buttons)
      choicesList.innerHTML = "";
      q.choices.forEach((choice, i) => {
        const li = document.createElement("li");
        const id = `q${idx}_c${i}`;
        li.innerHTML = `
          <label for="${id}">
            <input type="radio" name="choice" id="${id}" value="${i}" />
            ${choice}
          </label>
        `;
        choicesList.appendChild(li);
      });
    }

    function getSelectedIndex() {
      const selected = document.querySelector('input[name="choice"]:checked');
      return selected ? Number(selected.value) : null;
    }

    function lockChoices() {
      document.querySelectorAll('input[name="choice"]').forEach(el => el.disabled = true);
    }

    function unlockChoices() {
      document.querySelectorAll('input[name="choice"]').forEach(el => el.disabled = false);
    }

    function showFeedback(isCorrect, q) {
      feedbackBox.classList.remove("hidden");
      feedbackBox.classList.toggle("ok", isCorrect);
      feedbackBox.classList.toggle("bad", !isCorrect);

      const correctText = q.choices[q.correctIndex];
      feedbackBox.innerHTML = `
        <strong>${isCorrect ? "Correct!" : "Not quite."}</strong>
        <div class="explain">
          ${isCorrect ? "" : `Correct answer: <strong>${correctText}</strong><br/>`}
          ${q.explanation ? q.explanation : ""}
        </div>
      `;
    }


    // =========================
    // Fireworks (perfect score)
    // =========================
    const fwCanvas = document.getElementById("fireworks");
    const fwCtx = fwCanvas.getContext("2d");
    let fwRunning = false;
    let fwParticles = [];
    let fwAnimId = null;

    function resizeFireworks(){
      const dpr = window.devicePixelRatio || 1;
      fwCanvas.width = Math.floor(window.innerWidth * dpr);
      fwCanvas.height = Math.floor(window.innerHeight * dpr);
      fwCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    window.addEventListener("resize", () => {
      if (fwRunning) resizeFireworks();
    });

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnBurst(x, y){
      const count = Math.floor(rand(60, 120));
      for (let i = 0; i < count; i++){
        const angle = rand(0, Math.PI * 2);
        const speed = rand(1.5, 6.0);
        fwParticles.push({
          x, y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          life: rand(40, 90),
          maxLife: 0, // set below
          size: rand(1.2, 2.6),
          hue: rand(0, 360)
        });
      }
      // assign maxLife after creation so we can fade nicely
      for (let p of fwParticles){
        if (p.maxLife === 0) p.maxLife = p.life;
      }
    }

    function tickFireworks(){
      fwCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      // Occasionally spawn a new burst
      if (Math.random() < 0.08){
        spawnBurst(rand(window.innerWidth * 0.15, window.innerWidth * 0.85),
                  rand(window.innerHeight * 0.15, window.innerHeight * 0.55));
      }

      const gravity = 0.06;
      const drag = 0.985;

      fwParticles = fwParticles.filter(p => p.life > 0);
      for (let p of fwParticles){
        p.life -= 1;
        p.vx *= drag;
        p.vy = p.vy * drag + gravity;

        p.x += p.vx;
        p.y += p.vy;

        const t = p.life / p.maxLife; // 1..0
        const alpha = Math.max(0, Math.min(1, t));

        fwCtx.beginPath();
        fwCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        fwCtx.fillStyle = `hsla(${p.hue}, 100%, 60%, ${alpha})`;
        fwCtx.fill();
      }

      fwAnimId = requestAnimationFrame(tickFireworks);
    }

    function startFireworks(){
      if (fwRunning) return;
      fwRunning = true;
      fwParticles = [];
      fwCanvas.style.display = "block";
      resizeFireworks();

      // Kick off with a few bursts
      for (let i = 0; i < 4; i++){
        spawnBurst(rand(window.innerWidth * 0.2, window.innerWidth * 0.8),
                  rand(window.innerHeight * 0.2, window.innerHeight * 0.55));
      }

      tickFireworks();

      // Stop after ~6 seconds (keeps it fun, not annoying)
      setTimeout(stopFireworks, 6000);
    }

    function stopFireworks(){
      if (!fwRunning) return;
      fwRunning = false;
      if (fwAnimId) cancelAnimationFrame(fwAnimId);
      fwAnimId = null;
      fwParticles = [];
      fwCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);
      fwCanvas.style.display = "none";
    }


    function finishQuiz() {
      quizCard.classList.add("hidden");
      summaryCard.classList.remove("hidden");
      summaryText.textContent = `You scored ${score} out of ${QUESTIONS.length}.`;
      if (score === QUESTIONS.length) startFireworks();
    }

    function restartQuiz() {
      idx = 0;
      score = 0;
      answered = false;
      summaryCard.classList.add("hidden");
      quizCard.classList.remove("hidden");
      unlockChoices();
      renderQuestion();
    }

    checkBtn.addEventListener("click", () => {
      if (answered) return;

      const selectedIndex = getSelectedIndex();
      if (selectedIndex === null) {
        feedbackBox.className = "feedback bad";
        feedbackBox.textContent = "Please select an answer before checking.";
        return;
      }

      const q = QUESTIONS[idx];
      const isCorrect = selectedIndex === q.correctIndex;

      if (isCorrect) score += 1;
      answered = true;

      lockChoices();
      showFeedback(isCorrect, q);
      scoreText.textContent = `Score: ${score}`;
      nextBtn.classList.remove("hidden");
    });

    nextBtn.addEventListener("click", () => {
      idx += 1;
      if (idx >= QUESTIONS.length) {
        finishQuiz();
      } else {
        unlockChoices();
        renderQuestion();
      }
    });

    restartBtn.addEventListener("click", restartQuiz);
    restartBtn2.addEventListener("click", restartQuiz);

    // Start
    renderQuestion();
  </script>
</body>
</html>
