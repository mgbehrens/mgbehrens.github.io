<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0f14" />
  <title>Material selection Quiz - 20 Questions</title>
    <style>
    :root{
      --bg: #0b0f14;
      --text: #e6edf3;
      --muted: #9aa7b2;
      --card: #0f1620;
      --border: #263241;
      --shadow: rgba(0,0,0,.25);

      --btn-bg: #162232;
      --btn-bg-hover: #1b2a3e;
      --btn-border: #2a3a4f;
      --btn-text: var(--text);

      --primary: #3b82f6;
      --primary-hover: #2563eb;

      --ok-bg: rgba(34, 197, 94, 0.12);
      --ok-border: rgba(34, 197, 94, 0.35);

      --bad-bg: rgba(239, 68, 68, 0.12);
      --bad-border: rgba(239, 68, 68, 0.35);

      --focus: rgba(59, 130, 246, 0.45);
    }

    /* Optional: if user prefers light mode, respect it */
    @media (prefers-color-scheme: light){
      :root{
        --bg: #ffffff;
        --text: #111827;
        --muted: #4b5563;
        --card: #ffffff;
        --border: #d1d5db;
        --shadow: rgba(0,0,0,.08);

        --btn-bg: #f3f4f6;
        --btn-bg-hover: #e5e7eb;
        --btn-border: #d1d5db;
        --btn-text: #111827;

        --primary: #1f6feb;
        --primary-hover: #1857bd;

        --ok-bg: #e9f7ef;
        --ok-border: #bfe7cd;

        --bad-bg: #fdecea;
        --bad-border: #f5c2bd;

        --focus: rgba(31, 111, 235, 0.35);
      }
    }

    *{ box-sizing: border-box; }
    body{
      font-family: Arial, sans-serif;
      margin: 24px;
      line-height: 1.4;
      background: var(--bg);
      color: var(--text);
    }
    .wrap { max-width: 800px; margin: 0 auto; }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 6px 18px var(--shadow);
    }

    .muted{ color: var(--muted); font-size: 0.95rem; }

    .q-title{ margin: 0 0 8px; }

    .choices{ list-style: none; padding: 0; margin: 0; }
    .choices li{ margin: 10px 0; }

    label{ cursor: pointer; }
    input[type="radio"]{
      accent-color: var(--primary);
      transform: translateY(1px);
    }

    /* Focus visibility */
    button:focus, input[type="radio"]:focus{
      outline: 3px solid var(--focus);
      outline-offset: 2px;
    }

    .btnrow{
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    button{
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--btn-text);
      cursor: pointer;
    }
    button:hover{ background: var(--btn-bg-hover); }

    button.primary{
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }
    button.primary:hover{ background: var(--primary-hover); }

    .feedback{
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
    }
    .ok{ background: var(--ok-bg); border-color: var(--ok-border); }
    .bad{ background: var(--bad-bg); border-color: var(--bad-border); }

    .hidden{ display: none; }

    .progress{
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
    .pill{
      padding: 4px 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      font-size: 0.9rem;
      background: rgba(255,255,255,.03);
    }

    .explain{ margin-top: 8px; }
  
    /* Fireworks overlay (shown only on 20/20) */
    canvas.fireworks{
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 9999;
    }

  </style>
</head>

<body>

<div class="quiz-header">
  <a href="../index.html" class="index-link" aria-label="Back to Home">← Back to Home</a>
</div>

<style>
  .quiz-header {
    max-width: 1100px;
    margin: 0 auto 12px auto;
    padding: 12px 16px 0 16px;
    display: flex;
    justify-content: flex-end;
  }

  .index-link {
    text-decoration: none;
    font-weight: 600;
    color: #eaeaf0;
    padding: 6px 10px;
    border-radius: 8px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
  }

  .index-link:hover {
    background: rgba(255,255,255,0.14);
  }
</style>




  <canvas id="fireworks" class="fireworks" style="display:none;"></canvas>

  <div class="wrap">
     <h1>Material selection – fundamental concepts (20 questions)</h1>
    <p class="muted">Evaluates students’ ability to choose suitable materials for engineering applications by balancing required properties, service conditions, manufacturability, and cost, and by justifying material choices based on performance and practical design considerations.</p>

    <div class="card progress">
      <div>
        <div class="pill" id="progressText">Question 1 of 1</div>
      </div>
      <div class="pill" id="scoreText">Score: 0</div>
    </div>

    <div class="card" id="quizCard">
      <h2 class="q-title" id="questionText">Loading…</h2>
      <p class="muted" id="questionMeta"></p>

      <form id="choicesForm">
        <ul class="choices" id="choicesList"></ul>
      </form>

      <div class="btnrow">
        <button class="primary" id="checkBtn" type="button">Check answer</button>
        <button id="nextBtn" type="button" class="hidden">Next</button>
        <button id="restartBtn" type="button">Restart</button>
      </div>

      <div id="feedbackBox" class="feedback hidden"></div>
    </div>

    <div class="card hidden" id="summaryCard">
      <h2>Results</h2>
      <p id="summaryText"></p>
      <button class="primary" id="restartBtn2" type="button">Restart quiz</button>
    </div>
  </div>

  <script>
    // =========================
    // 1) QUESTION BANK (EDIT ME)
    // =========================
    // correctIndex is 0-based (0 = A, 1 = B, etc.)

const QUESTIONS = [
  {
    topic: "Structural Applications",
    question: "Which material is MOST suitable for a structural beam in a building where high strength and low cost are required?",
    choices: [
      "Aluminium alloy",
      "Mild steel",
      "Titanium alloy",
      "Polycarbonate"
    ],
    correctIndex: 1,
    explanation: "Mild steel offers a good balance of strength, toughness, weldability, availability, and low cost, making it ideal for structural applications."
  },
  {
    topic: "Lightweight Design",
    question: "Which material is MOST appropriate for an aircraft fuselage where weight saving is critical?",
    choices: [
      "Carbon steel",
      "Cast iron",
      "Aluminium alloy",
      "Copper"
    ],
    correctIndex: 2,
    explanation: "Aluminium alloys provide high strength-to-weight ratio and good corrosion resistance, making them suitable for aerospace structures."
  },
  {
    topic: "Wear Resistance",
    question: "Which material is BEST suited for a gear operating under high contact stress and wear?",
    choices: [
      "Low-carbon steel (untreated)",
      "Case-hardened alloy steel",
      "Aluminium bronze",
      "Polyethylene"
    ],
    correctIndex: 1,
    explanation: "Case-hardened steels provide a hard, wear-resistant surface with a tough core, ideal for gears and camshafts."
  },
  {
    topic: "Corrosion Resistance",
    question: "Which material is MOST suitable for a chemical storage tank containing acidic solutions?",
    choices: [
      "Mild steel",
      "Cast iron",
      "Stainless steel (316)",
      "High-carbon steel"
    ],
    correctIndex: 2,
    explanation: "316 stainless steel contains molybdenum, improving resistance to corrosion in aggressive chemical environments."
  },
  {
    topic: "High Temperature",
    question: "Which material is MOST appropriate for turbine components exposed to high temperatures?",
    choices: [
      "Aluminium alloy",
      "Low-carbon steel",
      "Nickel-based superalloy",
      "Polymer composite"
    ],
    correctIndex: 2,
    explanation: "Nickel-based superalloys retain strength and resist creep and oxidation at elevated temperatures."
  },
  {
    topic: "Electrical Conductivity",
    question: "Which material is BEST suited for electrical wiring?",
    choices: [
      "Steel",
      "Aluminium",
      "Copper",
      "Titanium"
    ],
    correctIndex: 2,
    explanation: "Copper has very high electrical conductivity and good ductility, making it ideal for electrical wiring."
  },
  {
    topic: "Thermal Conductivity",
    question: "Which material is MOST suitable for a heat sink?",
    choices: [
      "Stainless steel",
      "Ceramic",
      "Aluminium alloy",
      "Rubber"
    ],
    correctIndex: 2,
    explanation: "Aluminium alloys have good thermal conductivity and low density, making them effective heat sink materials."
  },
  {
    topic: "Impact Resistance",
    question: "Which material is MOST suitable for safety glazing?",
    choices: [
      "Soda-lime glass",
      "Acrylic (PMMA)",
      "Polycarbonate",
      "Ceramic"
    ],
    correctIndex: 2,
    explanation: "Polycarbonate has excellent impact resistance and toughness compared to glass or acrylic."
  },
  {
    topic: "Low Friction",
    question: "Which material is MOST suitable for a low-friction bearing surface without lubrication?",
    choices: [
      "Carbon steel",
      "Bronze",
      "PTFE (Teflon)",
      "Cast iron"
    ],
    correctIndex: 2,
    explanation: "PTFE has extremely low friction and good chemical resistance, making it suitable for dry bearing applications."
  },
  {
    topic: "Machinability",
    question: "Which material is MOST suitable where excellent machinability is required?",
    choices: [
      "Free-machining steel",
      "Titanium alloy",
      "Hardened tool steel",
      "Ceramic"
    ],
    correctIndex: 0,
    explanation: "Free-machining steels contain additives such as sulfur or lead that improve chip breaking and tool life."
  },
  {
    topic: "Cost Constraints",
    question: "Which material is MOST appropriate for a disposable consumer product?",
    choices: [
      "Titanium",
      "Stainless steel",
      "Thermoplastic polymer",
      "Tool steel"
    ],
    correctIndex: 2,
    explanation: "Thermoplastics are low-cost, lightweight, and easily mass-produced, making them suitable for disposable items."
  },
  {
    topic: "Fatigue Resistance",
    question: "Which material property is MOST critical for components subjected to cyclic loading?",
    choices: [
      "Hardness",
      "Fatigue strength",
      "Density",
      "Thermal conductivity"
    ],
    correctIndex: 1,
    explanation: "Fatigue strength determines a material’s ability to withstand repeated loading without failure."
  },
  {
    topic: "High Stiffness",
    question: "Which material is MOST suitable where very high stiffness is required?",
    choices: [
      "Rubber",
      "Aluminium",
      "Ceramic",
      "Polyethylene"
    ],
    correctIndex: 2,
    explanation: "Ceramics have very high elastic modulus, providing excellent stiffness, though they are brittle."
  },
  {
    topic: "Shock Loading",
    question: "Which material is MOST suitable for absorbing shock loads?",
    choices: [
      "Cast iron",
      "Glass",
      "Low-carbon steel",
      "Ceramic"
    ],
    correctIndex: 2,
    explanation: "Low-carbon steel has good toughness and ductility, allowing it to absorb energy without fracturing."
  },
  {
    topic: "Corrosion + Weight",
    question: "Which material is MOST suitable for marine applications requiring corrosion resistance and low weight?",
    choices: [
      "Carbon steel",
      "Aluminium alloy",
      "Cast iron",
      "Tool steel"
    ],
    correctIndex: 1,
    explanation: "Aluminium alloys offer good corrosion resistance in marine environments and low density."
  },
  {
    topic: "Wear + Machining",
    question: "Which material is MOST suitable for wear-resistant machine components that still require machining?",
    choices: [
      "Grey cast iron",
      "Tool steel (fully hardened)",
      "Polymer",
      "Glass"
    ],
    correctIndex: 0,
    explanation: "Grey cast iron offers good wear resistance and excellent machinability due to graphite flakes."
  },
  {
    topic: "Thermal Insulation",
    question: "Which material is MOST suitable as a thermal insulator?",
    choices: [
      "Copper",
      "Aluminium",
      "Polymer",
      "Steel"
    ],
    correctIndex: 2,
    explanation: "Polymers generally have low thermal conductivity, making them effective thermal insulators."
  },
  {
    topic: "High Precision",
    question: "Which material is MOST suitable for precision measurement tools?",
    choices: [
      "Aluminium",
      "Polymer",
      "Stainless steel",
      "Rubber"
    ],
    correctIndex: 2,
    explanation: "Stainless steel offers dimensional stability, corrosion resistance, and good wear resistance for precision tools."
  },
  {
    topic: "Extreme Hardness",
    question: "Which material is MOST suitable for cutting tools?",
    choices: [
      "Mild steel",
      "High-speed steel",
      "Aluminium alloy",
      "Copper"
    ],
    correctIndex: 1,
    explanation: "High-speed steel retains hardness at elevated temperatures and is commonly used for cutting tools."
  },
  {
    topic: "Overall Selection",
    question: "What is the PRIMARY goal of material selection in engineering?",
    choices: [
      "To choose the strongest material available",
      "To minimise cost only",
      "To balance properties, performance, manufacturability, and cost for the application",
      "To select the newest material"
    ],
    correctIndex: 2,
    explanation: "Material selection requires balancing mechanical, physical, chemical, and economic factors to meet design requirements."
  }
];



    // =========================
    // 2) QUIZ ENGINE (NO NEED TO EDIT)
    // =========================
    let idx = 0;
    let score = 0;
    let answered = false; // prevent double scoring

    const progressText = document.getElementById("progressText");
    const scoreText = document.getElementById("scoreText");
    const questionText = document.getElementById("questionText");
    const questionMeta = document.getElementById("questionMeta");
    const choicesList = document.getElementById("choicesList");
    const feedbackBox = document.getElementById("feedbackBox");

    const checkBtn = document.getElementById("checkBtn");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const restartBtn2 = document.getElementById("restartBtn2");

    const quizCard = document.getElementById("quizCard");
    const summaryCard = document.getElementById("summaryCard");
    const summaryText = document.getElementById("summaryText");

    function renderQuestion() {
      answered = false;
      feedbackBox.className = "feedback hidden";
      feedbackBox.innerHTML = "";
      nextBtn.classList.add("hidden");

      const q = QUESTIONS[idx];
      progressText.textContent = `Question ${idx + 1} of ${QUESTIONS.length}`;
      scoreText.textContent = `Score: ${score}`;
      questionText.textContent = q.question;
      questionMeta.textContent = q.topic ? `Topic: ${q.topic}` : "";

      // Build choices (radio buttons)
      choicesList.innerHTML = "";
      q.choices.forEach((choice, i) => {
        const li = document.createElement("li");
        const id = `q${idx}_c${i}`;
        li.innerHTML = `
          <label for="${id}">
            <input type="radio" name="choice" id="${id}" value="${i}" />
            ${choice}
          </label>
        `;
        choicesList.appendChild(li);
      });
    }

    function getSelectedIndex() {
      const selected = document.querySelector('input[name="choice"]:checked');
      return selected ? Number(selected.value) : null;
    }

    function lockChoices() {
      document.querySelectorAll('input[name="choice"]').forEach(el => el.disabled = true);
    }

    function unlockChoices() {
      document.querySelectorAll('input[name="choice"]').forEach(el => el.disabled = false);
    }

    function showFeedback(isCorrect, q) {
      feedbackBox.classList.remove("hidden");
      feedbackBox.classList.toggle("ok", isCorrect);
      feedbackBox.classList.toggle("bad", !isCorrect);

      const correctText = q.choices[q.correctIndex];
      feedbackBox.innerHTML = `
        <strong>${isCorrect ? "Correct!" : "Not quite."}</strong>
        <div class="explain">
          ${isCorrect ? "" : `Correct answer: <strong>${correctText}</strong><br/>`}
          ${q.explanation ? q.explanation : ""}
        </div>
      `;
    }


    // =========================
    // Fireworks (perfect score)
    // =========================
    const fwCanvas = document.getElementById("fireworks");
    const fwCtx = fwCanvas.getContext("2d");
    let fwRunning = false;
    let fwParticles = [];
    let fwAnimId = null;

    function resizeFireworks(){
      const dpr = window.devicePixelRatio || 1;
      fwCanvas.width = Math.floor(window.innerWidth * dpr);
      fwCanvas.height = Math.floor(window.innerHeight * dpr);
      fwCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    window.addEventListener("resize", () => {
      if (fwRunning) resizeFireworks();
    });

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnBurst(x, y){
      const count = Math.floor(rand(60, 120));
      for (let i = 0; i < count; i++){
        const angle = rand(0, Math.PI * 2);
        const speed = rand(1.5, 6.0);
        fwParticles.push({
          x, y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          life: rand(40, 90),
          maxLife: 0, // set below
          size: rand(1.2, 2.6),
          hue: rand(0, 360)
        });
      }
      // assign maxLife after creation so we can fade nicely
      for (let p of fwParticles){
        if (p.maxLife === 0) p.maxLife = p.life;
      }
    }

    function tickFireworks(){
      fwCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      // Occasionally spawn a new burst
      if (Math.random() < 0.08){
        spawnBurst(rand(window.innerWidth * 0.15, window.innerWidth * 0.85),
                  rand(window.innerHeight * 0.15, window.innerHeight * 0.55));
      }

      const gravity = 0.06;
      const drag = 0.985;

      fwParticles = fwParticles.filter(p => p.life > 0);
      for (let p of fwParticles){
        p.life -= 1;
        p.vx *= drag;
        p.vy = p.vy * drag + gravity;

        p.x += p.vx;
        p.y += p.vy;

        const t = p.life / p.maxLife; // 1..0
        const alpha = Math.max(0, Math.min(1, t));

        fwCtx.beginPath();
        fwCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        fwCtx.fillStyle = `hsla(${p.hue}, 100%, 60%, ${alpha})`;
        fwCtx.fill();
      }

      fwAnimId = requestAnimationFrame(tickFireworks);
    }

    function startFireworks(){
      if (fwRunning) return;
      fwRunning = true;
      fwParticles = [];
      fwCanvas.style.display = "block";
      resizeFireworks();

      // Kick off with a few bursts
      for (let i = 0; i < 4; i++){
        spawnBurst(rand(window.innerWidth * 0.2, window.innerWidth * 0.8),
                  rand(window.innerHeight * 0.2, window.innerHeight * 0.55));
      }

      tickFireworks();

      // Stop after ~6 seconds (keeps it fun, not annoying)
      setTimeout(stopFireworks, 6000);
    }

    function stopFireworks(){
      if (!fwRunning) return;
      fwRunning = false;
      if (fwAnimId) cancelAnimationFrame(fwAnimId);
      fwAnimId = null;
      fwParticles = [];
      fwCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);
      fwCanvas.style.display = "none";
    }


    function finishQuiz() {
      quizCard.classList.add("hidden");
      summaryCard.classList.remove("hidden");
      summaryText.textContent = `You scored ${score} out of ${QUESTIONS.length}.`;
      if (score === QUESTIONS.length) startFireworks();
    }

    function restartQuiz() {
      idx = 0;
      score = 0;
      answered = false;
      summaryCard.classList.add("hidden");
      quizCard.classList.remove("hidden");
      unlockChoices();
      renderQuestion();
    }

    checkBtn.addEventListener("click", () => {
      if (answered) return;

      const selectedIndex = getSelectedIndex();
      if (selectedIndex === null) {
        feedbackBox.className = "feedback bad";
        feedbackBox.textContent = "Please select an answer before checking.";
        return;
      }

      const q = QUESTIONS[idx];
      const isCorrect = selectedIndex === q.correctIndex;

      if (isCorrect) score += 1;
      answered = true;

      lockChoices();
      showFeedback(isCorrect, q);
      scoreText.textContent = `Score: ${score}`;
      nextBtn.classList.remove("hidden");
    });

    nextBtn.addEventListener("click", () => {
      idx += 1;
      if (idx >= QUESTIONS.length) {
        finishQuiz();
      } else {
        unlockChoices();
        renderQuestion();
      }
    });

    restartBtn.addEventListener("click", restartQuiz);
    restartBtn2.addEventListener("click", restartQuiz);

    // Start
    renderQuestion();
  </script>
</body>
</html>
