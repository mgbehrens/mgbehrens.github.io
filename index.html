<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Materials Science Quizzes</title>
  <meta name="description" content="Landing page for Materials Science quizzes." />
  <style>
    :root{
      --bg:#0b1220; --card:#121b2e; --muted:#8ea0c3; --text:#e9efff;
      --accent:#6aa6ff; --line:rgba(255,255,255,.10);
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 14px;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 10% 0%, #14254a 0%, var(--bg) 40%, #070b14 100%);
      min-height:100vh;
      overflow-x:hidden;
    }

    .wrap{max-width:1100px; margin:0 auto; padding:34px 16px 64px;}

    /* Decorative background graphics */
    .bg-orb{
      position:fixed;
      width:520px; height:520px;
      border-radius:999px;
      filter: blur(28px);
      opacity:.22;
      z-index:-2;
      pointer-events:none;
      background:
        radial-gradient(circle at 30% 30%, rgba(106,166,255,.9), rgba(106,166,255,0) 60%),
        radial-gradient(circle at 70% 70%, rgba(255,92,108,.8), rgba(255,92,108,0) 55%),
        radial-gradient(circle at 50% 40%, rgba(46,204,113,.7), rgba(46,204,113,0) 60%);
      animation: floaty 14s ease-in-out infinite;
    }
    .bg-orb.one{ top:-220px; left:-180px; animation-delay:-2s;}
    .bg-orb.two{ bottom:-260px; right:-240px; animation-delay:-7s; width:620px; height:620px; opacity:.18;}
    @keyframes floaty{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(18px, -12px) scale(1.03); }
    }

    header{
      display:flex; gap:16px; align-items:flex-end; justify-content:space-between; flex-wrap:wrap;
      padding:18px 18px;
      background:rgba(18,27,46,.85);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(8px);
      position:relative;
      overflow:hidden;
    }

    /* Header hero stripe */
    .hero-stripe{
      position:absolute; inset:-2px -2px auto -2px;
      height:64px;
      background: linear-gradient(90deg,
        rgba(106,166,255,.25),
        rgba(46,204,113,.18),
        rgba(255,92,108,.18),
        rgba(106,166,255,.25));
      opacity:.8;
      mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
      pointer-events:none;
    }

    .title{display:flex; gap:12px; align-items:center;}
    .title h1{margin:0; font-size:22px; letter-spacing:.2px;}
    .title p{margin:6px 0 0; color:var(--muted); font-size:13px; line-height:1.4}

    /* Atom icon */
    .logo{
      width:44px; height:44px; border-radius:14px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.18);
      display:grid; place-items:center;
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      flex: 0 0 auto;
    }
    .logo svg{width:28px; height:28px; opacity:.9}

    .actions{display:flex; gap:10px; flex-wrap:wrap}
    button, .chip, input{
      border:1px solid var(--line);
      background:rgba(0,0,0,.18);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-weight:650;
      font-size:13px;
    }
    input{
      font-weight:500;
      width:min(360px, 72vw);
      outline:none;
    }
    input::placeholder{color:rgba(142,160,195,.85)}
    button{cursor:pointer; transition:transform .05s ease, border-color .15s ease, background .15s ease}
    button:hover{border-color:rgba(106,166,255,.65); background:rgba(106,166,255,.10)}
    button:active{transform:translateY(1px)}
    .chip{
      display:inline-flex; gap:8px; align-items:center;
      background:rgba(0,0,0,.14);
      color:var(--muted);
      font-weight:600;
    }
    .chip strong{color:var(--text); font-weight:750}

    main{margin-top:16px; display:grid; gap:16px;}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:14px;
    }
    @media (max-width: 1000px){ .grid{grid-template-columns: repeat(2, minmax(0, 1fr));} }
    @media (max-width: 640px){ .grid{grid-template-columns: 1fr;} }

    .card{
      display:flex; flex-direction:column; gap:10px;
      padding:14px;
      border-radius:var(--radius);
      border:1px solid var(--line);
      background:rgba(18,27,46,.80);
      box-shadow:var(--shadow);
      backdrop-filter: blur(8px);
      min-height:150px;
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
    }

    /* Card corner graphic */
    .card::before{
      content:"";
      position:absolute; top:-40px; right:-40px;
      width:140px; height:140px; border-radius:999px;
      background:
        radial-gradient(circle at 30% 30%, rgba(106,166,255,.45), rgba(106,166,255,0) 60%),
        radial-gradient(circle at 70% 70%, rgba(46,204,113,.25), rgba(46,204,113,0) 55%);
      opacity:.75;
      pointer-events:none;
    }

    .card a{
      color:inherit;
      text-decoration:none;
      display:block;
      height:100%;
      position:relative;
      z-index:1;
    }
    .card:hover{border-color:rgba(106,166,255,.55)}
    .row{display:flex; gap:10px; align-items:flex-start; justify-content:space-between}

    .qtitle{margin:0; font-size:15px; line-height:1.25}
    .meta{color:var(--muted); font-size:12px; line-height:1.4}

    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:auto}
    .tag{
      font-family:var(--mono);
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      color:var(--muted);
      background:rgba(0,0,0,.12);
      white-space:nowrap;
    }
    .badge{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      color:var(--muted);
      background:rgba(0,0,0,.10);
      white-space:nowrap;
    }

    .qtitlewrap{display:flex; gap:10px; align-items:flex-start}
    .qico{
      width:34px; height:34px; border-radius:12px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.14);
      display:grid; place-items:center;
      flex:0 0 auto;
    }
    .qico svg{width:18px; height:18px; opacity:.9}

    .empty{
      padding:18px;
      border-radius:var(--radius);
      border:1px dashed var(--line);
      background:rgba(0,0,0,.10);
      color:var(--muted);
      font-size:13px;
      line-height:1.5;
    }
    footer{margin-top:10px; color:var(--muted); font-size:12px}

    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(18,27,46,.95); border:1px solid var(--line);
      border-radius:12px; padding:10px 12px; color:var(--text); box-shadow:var(--shadow);
      display:none; z-index:999; font-size:13px;
    }
    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }
  </style>
</head>

<body>
  <!-- Background orbs (graphics) -->
  <div class="bg-orb one" aria-hidden="true"></div>
  <div class="bg-orb two" aria-hidden="true"></div>

  <div class="wrap">
    <header>
      <div class="hero-stripe" aria-hidden="true"></div>

      <div class="title">
        <div class="logo" aria-hidden="true" title="Materials Science">
          <!-- Atom icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="1.8"></circle>
            <path d="M20 12c0 3.3-3.6 6-8 6s-8-2.7-8-6 3.6-6 8-6 8 2.7 8 6Z"></path>
            <path d="M12 4c3.3 0 6 3.6 6 8s-2.7 8-6 8-6-3.6-6-8 2.7-8 6-8Z"></path>
            <path d="M5.2 7.5c2.3-2.3 6.7-1 9.8 2.1s4.4 7.5 2.1 9.8-6.7 1-9.8-2.1S2.9 9.8 5.2 7.5Z"></path>
          </svg>
        </div>

        <div>
          <h1 id="pageTitle">Materials Science Quizzes</h1>
          <p id="pageSubtitle">
            Landing page (index) for your quiz library. Add links below, then students click a card to start.
          </p>
        </div>
      </div>

      <div class="actions">
        <label class="sr-only" for="search">Search quizzes</label>
        <input id="search" type="search" placeholder="Search (e.g., tool steel, FCC, corrosion)..." />
        <span class="chip" title="Visible / total quizzes"><strong id="countVisible">0</strong> / <span id="countTotal">0</span></span>
        <button id="btnClear" type="button">Clear</button>
      </div>
    </header>

    <main>
      <!-- Removed the extra row of tiles -->

      <section>
        <div id="grid" class="grid" aria-live="polite"></div>
        <div id="empty" class="empty" style="display:none;">
          No quizzes match your search. Try a different keyword (e.g. “alloying”, “BCC”, “heat treatment”).
        </div>
      </section>

      <footer>
        <span style="font-family:var(--mono)">Tip:</span> Edit quizzes in the <span style="font-family:var(--mono)">QUIZZES</span> array below.
        Each item is just a link + title + description + difficulty + optional tags.
      </footer>
    </main>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    /*************************************************
     * EDIT HERE: Add / remove quiz links
     *************************************************/
    const QUIZZES = [
      {
        title: "Tool Steels — Fundamentals (20 Q)",
        href: "quiz-tool-steels-01.html",
        description: "Basic tool steel families, properties, and typical applications.",
        difficulty: "Intro",
        tags: ["tool steel", "W", "O", "A", "D", "S", "HSS"],
        icon: "tool"
      },
      {
        title: "Tool Steels — Advanced (20 Q)",
        href: "quiz-tool-steels-02-advanced.html",
        description: "More difficult questions including alloying elements and processing effects.",
        difficulty: "Advanced",
        tags: ["tool steel", "Cr", "Mo", "V", "W", "ESR", "VAR", "VIM"],
        icon: "gear"
      },
      {
        title: "Alloying Elements (20 Q)",
        href: "quiz-alloying-elements.html",
        description: "Hardenability, carbides, toughness, corrosion, machinability.",
        difficulty: "Mixed",
        tags: ["alloying", "chromium", "molybdenum", "vanadium", "nickel", "manganese"],
        icon: "flask"
      },
      {
        title: "Crystal Structures (20 Q)",
        href: "quiz-crystal-structures.html",
        description: "SC, BCC, FCC, HCP: packing, slip, ductility, temperature effects.",
        difficulty: "Mixed",
        tags: ["BCC", "FCC", "HCP", "SC", "slip systems"],
        icon: "crystal"
      },
      {
        title: "Periodic Table — Fundamentals (20 Q)",
        href: "quiz-periodic-table.html",
        description: "Groups, periods, bonding, trends that support materials selection.",
        difficulty: "Intro",
        tags: ["periodic table", "atomic radius", "electronegativity", "valence"],
        icon: "table"
      }
    ];

    function iconSvg(name){
      switch(name){
        case "tool":
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 7l3 3"></path>
            <path d="M11 10l3 3"></path>
            <path d="M3 21l6-6"></path>
            <path d="M12.5 3.5a5 5 0 0 0 6.5 6.5L14 15l-5-5 3.5-6.5Z"></path>
          </svg>`;
        case "gear":
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"></path>
            <path d="M19.4 15a7.9 7.9 0 0 0 .1-2l2-1.3-2-3.4-2.3.6a7.8 7.8 0 0 0-1.7-1L15 5 11 5l-.5 2.9a7.8 7.8 0 0 0-1.7 1l-2.3-.6-2 3.4 2 1.3a7.9 7.9 0 0 0 .1 2l-2 1.3 2 3.4 2.3-.6a7.8 7.8 0 0 0 1.7 1L11 23h4l.5-2.9a7.8 7.8 0 0 0 1.7-1l2.3.6 2-3.4-2-1.3Z"></path>
          </svg>`;
        case "flask":
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 2v6l-5 9a3 3 0 0 0 2.6 4.5h8.8A3 3 0 0 0 19 17l-5-9V2"></path>
            <path d="M8.5 14h7"></path>
          </svg>`;
        case "crystal":
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2 4.5 7v10L12 22l7.5-5V7L12 2Z"></path>
            <path d="M12 22V12"></path>
            <path d="M19.5 7 12 12 4.5 7"></path>
          </svg>`;
        case "table":
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 4h16v16H4z"></path>
            <path d="M4 10h16"></path>
            <path d="M10 4v16"></path>
          </svg>`;
        default:
          return `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20V10"></path>
            <path d="M7 20V4"></path>
            <path d="M17 20V14"></path>
          </svg>`;
      }
    }

    const $grid = document.getElementById("grid");
    const $empty = document.getElementById("empty");
    const $search = document.getElementById("search");
    const $btnClear = document.getElementById("btnClear");
    const $countVisible = document.getElementById("countVisible");
    const $countTotal = document.getElementById("countTotal");
    const $toast = document.getElementById("toast");

    $countTotal.textContent = String(QUIZZES.length);

    function norm(s){ return (s || "").toLowerCase().trim(); }
    function matches(quiz, q){
      if(!q) return true;
      const hay = [quiz.title, quiz.description, quiz.difficulty, ...(quiz.tags || [])].map(norm).join(" ");
      return hay.includes(q);
    }

    function render(list){
      $grid.innerHTML = "";
      if(list.length === 0){
        $empty.style.display = "block";
        $countVisible.textContent = "0";
        return;
      }
      $empty.style.display = "none";
      $countVisible.textContent = String(list.length);

      for(const quiz of list){
        const card = document.createElement("div");
        card.className = "card";

        const tags = (quiz.tags || []).slice(0, 8).map(t => `<span class="tag">${escapeHtml(t)}</span>`).join("");

        card.innerHTML = `
          <a href="${escapeAttr(quiz.href)}" aria-label="Open quiz: ${escapeAttr(quiz.title)}">
            <div class="row">
              <div class="qtitlewrap">
                <div class="qico" aria-hidden="true">${iconSvg(quiz.icon)}</div>
                <div>
                  <h3 class="qtitle">${escapeHtml(quiz.title)}</h3>
                  ${quiz.description ? `<div class="meta">${escapeHtml(quiz.description)}</div>` : ``}
                </div>
              </div>
              ${quiz.difficulty ? `<span class="badge">${escapeHtml(quiz.difficulty)}</span>` : ``}
            </div>
            ${(quiz.tags && quiz.tags.length) ? `<div class="tags">${tags}</div>` : ``}
          </a>
        `;
        $grid.appendChild(card);
      }
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
    function escapeAttr(str){ return escapeHtml(str); }

    function toast(msg){
      $toast.textContent = msg;
      $toast.style.display = "block";
      clearTimeout(toast._t);
      toast._t = setTimeout(()=> $toast.style.display = "none", 1600);
    }

    function applyFilter(){
      const q = norm($search.value);
      render(QUIZZES.filter(z => matches(z, q)));
    }

    render(QUIZZES);

    $search.addEventListener("input", applyFilter);
    $btnClear.addEventListener("click", () => {
      $search.value = "";
      applyFilter();
      $search.focus();
      toast("Search cleared");
    });
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        $search.value = "";
        applyFilter();
        toast("Search cleared");
      }
    });
  </script>
</body>
</html>
